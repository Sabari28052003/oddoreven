<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Even or odd</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <h1>Even or Odd</h1>
        <div id="name">
            <h2>Player1</h2>
            <h2>Player2</h2>
        </div>
        <div id="main">
            <div class="score" id="Player1">
                <div id="circle"></div>
                <div id="circle"></div>
                <div id="circle"></div>
                <div id="circle"></div>
                <div id="circle"></div>
            </div>
            <div class="center">
                <div id="score">
                    <h2 id="p1s">0</h2>
                    <h2>-</h2>
                    <h2 id="p2s">0</h2>
                </div>
            </div>
            <div class="score" id="Player2">
                <div id="circle"></div>
                <div id="circle"></div>
                <div id="circle"></div>
                <div id="circle"></div>
                <div id="circle"></div>
        </div>
    </div>
    
        <h2 id="result">Wait for the result</h2>
        <div id="btn">
            <input type="submit" value="Check" onclick="playGame()">
            <input type="submit" value="Refresh" onclick="window.location.reload()">
        </div>
    <script>
        var p1_score = 0;
        var p2_score = 0;
        var p1_arr = [];
        var p2_arr = [];
        var count=0;


function playGame()
{
    if(count!=5)
    {
        var p1_n = Math.ceil(Math.random()*100);
        var p2_n = Math.ceil(Math.random()*100);
        console.log(p1_n+" "+p2_n);
        p1_arr.push(p1_n);
        p2_arr.push(p2_n);
        if(p1_n%2==0)
        {
            p1_score++;
            document.getElementById("p1s").textContent = p1_score;
        }
        if(p2_n%2==0)
        {
            p2_score++;
            document.getElementById("p2s").textContent = p2_score;
        }
        updateCircle();
        count++;
    }
    else
    {
        if(p1_score>p2_score)
            document.getElementById("result").textContent = "Player1 WINS!!!";
        else if(p2_score > p1_score)
            document.getElementById("result").textContent = "Player2 WINS!!!";
        else
            document.getElementById("result").textContent = "Match DRAW!!!";
    }
}


function updateCircle()
{
    var p1Circle = document.getElementById("Player1").children;
    console.log(p1Circle);
    for(let i=0;i<p1_arr.length;i++)
    {
        if(p1_arr[i]%2==0)
            p1Circle[i].style.backgroundColor = "green";
        else
            p1Circle[i].style.backgroundColor = "red";
    }


    var p2Circle = document.getElementById("Player2").children;
    console.log(p2Circle);
    for(let i=0;i<p2_arr.length;i++)
    {
        if(p2_arr[i]%2==0){

            p2Circle[i].style.backgroundColor = "green";
        }
        else{

            p2Circle[i].style.backgroundColor = "red";
        }
    }
}

    </script>
</body>
</html>